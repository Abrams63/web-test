# Функції та класи, що виконують конкретну логіку

## config.py

### Settings
- **Призначення**: Клас для конфігурації додатка з використанням pydantic
- **Логіка**: Валідація налаштувань, завантаження змінних середовища

### smtp_start_tls (властивість Settings)
- **Призначення**: Визначення, чи слід використовувати STARTTLS
- **Логіка**: Перевірка комбінації параметрів SMTP (TLS, SSL, порт) для безпечного з'єднання

### load_settings_from_json(json_path: str)
- **Призначення**: Альтернативне завантаження налаштувань з JSON-файлу
- **Логіка**: Зчитування JSON-файлу та оновлення значень налаштувань

## main.py

### MailFormData
- **Призначення**: Pydantic модель для валідації даних форми
- **Логіка**: Валідація електронної пошти, перевірка обов'язкових полів

### MailConfig
- **Призначення**: Pydantic модель для конфігурації пошти
- **Логіка**: Визначення параметрів SMTP

### load_config()
- **Призначення**: Завантаження конфігурації пошти з налаштувань
- **Логіка**: Створення об'єкта MailConfig з налаштувань додатка

### create_email_template(data: MailFormData, config: MailConfig, hostname: str)
- **Призначення**: Створення HTML-шаблону електронного листа
- **Логіка**: Формування HTML-контенту залежно від типу форми та даних користувача

### send_email_async(data: MailFormData, hostname: str)
- **Призначення**: Асинхронне надсилання електронного листа
- **Логіка**: Підключення до SMTP-сервера, створення та відправлення повідомлення

### handle_mailform(request: Request, background_tasks: BackgroundTasks)
- **Призначення**: Обробка форми та надсилання електронного листа
- **Логіка**: Визначення типу запиту (JSON або form data), валідація даних, додавання завдання до фонових

## search.py

### list_files(search_dir: Optional[str], search_in: list)
- **Призначення**: Рекурсивний перелік файлів у директорії з певними розширеннями
- **Логіка**: Обхід директорій, фільтрація за розширеннями файлів

### get_file_extension(filename: str)
- **Призначення**: Отримання розширення файлу
- **Логіка**: Витягування розширення з шляху до файлу

### find_in_text(text: str, search_term: str, case_sensitive: bool)
- **Призначення**: Пошук входжень тексту в рядку
- **Логіка**: Пошук з урахуванням або без урахування регістру, повернення позицій

### search(s: str, filter_pattern: str, template: str, live_count: Optional[int], live_search: Optional[str])
- **Призначення**: Функція пошуку по сайту
- **Логіка**: Пошук у файлах, видобуток заголовків та метаданих, формування результатів

## recaptcha.py

### verify_recaptcha(request: Request)
- **Призначення**: Перевірка відповіді reCAPTCHA
- **Логіка**: Витяг відповіді з форми, перевірка з Google API, обробка помилок

### verify_recaptcha_json(request: Request)
- **Призначення**: Перевірка відповіді reCAPTCHA з JSON-даних
- **Логіка**: Витяг відповіді з JSON, перевірка з Google API, обробка помилок

### get_recaptcha_config()
- **Призначення**: Отримання налаштувань reCAPTCHA для клієнтської частини
- **Логіка**: Повернення публічного ключа та статусу конфігурації